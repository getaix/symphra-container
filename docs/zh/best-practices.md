# 最佳实践

- 优先使用类型键作为服务键，字符串键用于动态场景
- 对外部资源（数据库、连接、客户端）使用 `SINGLETON` 或 `SCOPED`
- 轻量纯逻辑服务可使用 `TRANSIENT`
- 工厂函数用于需要参数化或复杂初始化的场景（`FACTORY`）
- 通过拦截器记录解析耗时与关键日志
- 为复杂依赖启用可视化与诊断，定位循环依赖或缺失注册
- 单元测试中使用容器覆盖注册（`override=True`）进行 Mock
- 在 Web 框架中使用请求作用域隔离对象生命周期
- 针对泛型仓库等，使用 `register_generic` 精确绑定实现
